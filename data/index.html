<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ESP IoT Dashboard</title>
    <!-- CSS -->
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/utilities.css" />
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="img/favicon.png" />
  </head>
  <body>
    <!-- Header -->
    <header class="main-header">
      <div class="container">
        <div class="logo">
          <h1>ESP IoT Dashboard</h1>
        </div>
        <nav class="main-nav">
          <ul>
            <li>
              <a href="#" class="nav-link active" data-page="dashboard"
                >Dashboard</a
              >
            </li>
            <li><a href="#" class="nav-link" data-page="config">Ayarlar</a></li>
            <li><a href="#" class="nav-link" data-page="about">Hakkında</a></li>
            <li>
              <div class="theme-toggle mt-1">
                <label class="switch switch-sm">
                  <input type="checkbox" id="theme-switch" />
                  <span class="slider" title="Tema değiştir"></span>
                </label>
              </div>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main>
      <div class="container">
        <!-- Status Bar -->
        <section class="status-bar">
          <div class="status-item" id="connection-status">
            <span class="status-label">Bağlantı:</span>
            <span class="status-value">Yükleniyor...</span>
          </div>
          <div class="status-item" id="ip-address">
            <span class="status-label">IP:</span>
            <span class="status-value">Yükleniyor...</span>
          </div>
          <div class="status-item" id="uptime">
            <span class="status-label">Çalışma Süresi:</span>
            <span class="status-value">Yükleniyor...</span>
          </div>
        </section>

        <!-- Dashboard Page -->
        <section id="page-dashboard" class="page active">
          <h2>Dashboard</h2>

          <div class="dashboard-grid">
            <!-- Dashboard widgets will be dynamically loaded here -->
            <div class="widget" id="system-info">
              <div class="widget-header">
                <h3>Sistem Bilgileri</h3>
              </div>
              <div class="widget-content">
                <table class="info-table">
                  <tr>
                    <td>Cihaz:</td>
                    <td id="device-name">Yükleniyor...</td>
                  </tr>
                  <tr>
                    <td>AP SSID:</td>
                    <td id="ap-ssid">Yükleniyor...</td>
                  </tr>
                  <tr>
                    <td>AP IP:</td>
                    <td id="ap-ip">Yükleniyor...</td>
                  </tr>
                  <tr>
                    <td>STA SSID:</td>
                    <td id="sta-ssid">Yükleniyor...</td>
                  </tr>
                  <tr>
                    <td>STA IP:</td>
                    <td id="sta-ip">Yükleniyor...</td>
                  </tr>
                  <tr>
                    <td>Sinyal Gücü:</td>
                    <td id="wifi-signal">Yükleniyor...</td>
                  </tr>
                  <tr>
                    <td>Boş Bellek:</td>
                    <td id="free-heap">Yükleniyor...</td>
                  </tr>
                  <tr>
                    <td>Chip ID:</td>
                    <td id="chip-id">Yükleniyor...</td>
                  </tr>
                </table>
              </div>
            </div>

            <div class="widget" id="control-panel">
              <div class="widget-header">
                <h3>Kontrol Paneli</h3>
              </div>
              <div class="widget-content">
                <div id="controls-container">
                  <!-- Kontrol bileşenleri dinamik olarak yüklenecek -->
                  <p>Kontroller yükleniyor...</p>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Config Page -->
        <section id="page-config" class="page">
          <h2>Ayarlar</h2>
          <div class="card">
            <h3>WiFi Ayarları</h3>
            <form id="wifi-settings">
              <div class="form-group">
                <label for="sta-ssid-input">WiFi SSID:</label>
                <input
                  type="text"
                  id="sta-ssid-input"
                  name="sta_ssid"
                  placeholder="WiFi ağ adı"
                />
              </div>
              <div class="form-group">
                <label for="sta-password-input">WiFi Şifre:</label>
                <input
                  type="password"
                  id="sta-password-input"
                  name="sta_password"
                  placeholder="WiFi şifresi"
                />
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary">Kaydet</button>
              </div>
            </form>
          </div>

          <div class="card mt-4">
            <h3>Cihaz Ayarları</h3>
            <form id="device-settings">
              <div class="form-group">
                <label for="device-name-input">Cihaz Adı:</label>
                <input
                  type="text"
                  id="device-name-input"
                  name="device_name"
                  placeholder="Cihaz adı"
                />
              </div>
              <div class="form-group">
                <label for="ap-ssid-input">AP SSID:</label>
                <input
                  type="text"
                  id="ap-ssid-input"
                  name="ap_ssid"
                  placeholder="AP ağ adı"
                />
              </div>
              <div class="form-group">
                <label for="ap-password-input">AP Şifre:</label>
                <input
                  type="password"
                  id="ap-password-input"
                  name="ap_password"
                  placeholder="AP şifresi"
                />
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary">Kaydet</button>
              </div>
            </form>
          </div>
        </section>

        <!-- About Page -->
        <section id="page-about" class="page">
          <h2>Hakkında</h2>
          <div class="card">
            <h3>ESP IoT Dashboard</h3>
            <p>
              Bu proje, ESP8266 tabanlı IoT cihazlarının yönetimini ve
              izlenmesini sağlayan modüler bir kontrol paneli uygulamasıdır.
            </p>
            <p>Özellikler:</p>
            <ul>
              <li>Çift çalışma modu (AP ve STA)</li>
              <li>Responsive web arayüzü</li>
              <li>Dinamik kontrol bileşenleri</li>
              <li>Modüler yazılım mimarisi</li>
              <li>Gerçek zamanlı sistem monitörü</li>
            </ul>
            <p>Sürüm: 1.0.0</p>
          </div>
        </section>
      </div>
    </main>

    <!-- Pin Bilgileri Dialog -->
    <div id="pinInfoDialog" class="dialog">
        <div class="dialog-content">
            <div class="dialog-header">
                <h2>Pin Bilgileri</h2>
                <span class="dialog-close" onclick="closePinInfoDialog()">&times;</span>
            </div>
            <div class="dialog-body">
                <div class="tab-container">
                    <div class="tab-header">
                        <button class="tab-btn active" data-tab="digitalPins">Dijital Pinler</button>
                        <button class="tab-btn" data-tab="analogPins">Analog Pinler</button>
                    </div>
                    <div class="tab-content active" id="digitalPins">
                        <table class="info-table">
                            <tr>
                                <th>Pin</th>
                                <th>GPIO</th>
                                <th>Kullanım</th>
                                <th>Notlar</th>
                            </tr>
                            <tr>
                                <td>D0</td>
                                <td>GPIO16</td>
                                <td>I/O</td>
                                <td>Normal kullanım, derinuyku modunda wake up</td>
                            </tr>
                            <tr>
                                <td>D1</td>
                                <td>GPIO5</td>
                                <td>I/O, SCL</td>
                                <td>I2C için tercih edilen</td>
                            </tr>
                            <tr>
                                <td>D2</td>
                                <td>GPIO4</td>
                                <td>I/O, SDA</td>
                                <td>I2C için tercih edilen</td>
                            </tr>
                            <tr>
                                <td>D3</td>
                                <td>GPIO0</td>
                                <td>I/O, FLASH</td>
                                <td>Boot modu seçiminde kullanılır</td>
                            </tr>
                            <tr>
                                <td>D4</td>
                                <td>GPIO2</td>
                                <td>I/O, TXD1</td>
                                <td>Dahili LED, Boot'ta HIGH</td>
                            </tr>
                            <tr>
                                <td>D5</td>
                                <td>GPIO14</td>
                                <td>I/O, SCLK</td>
                                <td>SPI için</td>
                            </tr>
                            <tr>
                                <td>D6</td>
                                <td>GPIO12</td>
                                <td>I/O, MISO</td>
                                <td>SPI için</td>
                            </tr>
                            <tr>
                                <td>D7</td>
                                <td>GPIO13</td>
                                <td>I/O, MOSI</td>
                                <td>SPI için</td>
                            </tr>
                            <tr>
                                <td>D8</td>
                                <td>GPIO15</td>
                                <td>I/O, CS</td>
                                <td>Boot'ta LOW, SPI CS</td>
                            </tr>
                            <tr>
                                <td>RX</td>
                                <td>GPIO3</td>
                                <td>I/O, RXD0</td>
                                <td>UART RX</td>
                            </tr>
                            <tr>
                                <td>TX</td>
                                <td>GPIO1</td>
                                <td>I/O, TXD0</td>
                                <td>UART TX, Boot'ta debug çıkışı</td>
                            </tr>
                        </table>
                    </div>
                    <div class="tab-content" id="analogPins">
                        <table class="info-table">
                            <tr>
                                <th>Pin</th>
                                <th>İşlev</th>
                                <th>Aralık</th>
                                <th>Notlar</th>
                            </tr>
                            <tr>
                                <td>A0</td>
                                <td>Analog Giriş</td>
                                <td>0-1023</td>
                                <td>0-3.3V arası değer okur</td>
                            </tr>
                        </table>
                        <div class="note mt-3">
                            <p><strong>Not:</strong> ESP8266'da sadece bir analog giriş bulunur (A0). 0-3.3V arası gerilim değerlerini 0-1023 arası sayısal değere dönüştürür.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Yardım Dialog -->
    <div id="helpDialog" class="dialog">
        <div class="dialog-content">
            <div class="dialog-header">
                <h2>Yardım</h2>
                <span class="dialog-close" onclick="closeHelpDialog()">&times;</span>
            </div>
            <div class="dialog-body">
                <div class="tab-container">
                    <div class="tab-header">
                        <button class="tab-btn active" data-tab="quickStart">Hızlı Başlangıç</button>
                        <button class="tab-btn" data-tab="pinUsage">Pin Kullanımı</button>
                        <button class="tab-btn" data-tab="wifiSettings">WiFi Ayarları</button>
                    </div>
                    <div class="tab-content active" id="quickStart">
                        <h3>ESP IoT Dashboard ile Başlarken</h3>
                        <p>ESP IoT Dashboard, ESP8266 tabanlı IoT cihazlarınızı yönetmeniz ve izlemeniz için geliştirilmiş bir web arayüzüdür.</p>
                        
                        <h4>Temel Özellikler</h4>
                        <ul>
                            <li>Pin durumlarını görüntüleme ve kontrol etme</li>
                            <li>WiFi ayarlarını yapılandırma</li>
                            <li>Sistem bilgilerini izleme</li>
                        </ul>
                        
                        <h4>Nasıl Kullanılır?</h4>
                        <ol>
                            <li><strong>Dashboard:</strong> Pin durumlarını ve sistem bilgilerini görüntüler.</li>
                            <li><strong>Ayarlar:</strong> WiFi ve cihaz ayarlarını yapılandırmanızı sağlar.</li>
                            <li><strong>Hakkında:</strong> Proje hakkında bilgi verir.</li>
                        </ol>
                    </div>
                    <div class="tab-content" id="pinUsage">
                        <h3>Pin Kullanım Bilgileri</h3>
                        <p>ESP8266, çeşitli I/O pinleri sunmaktadır. Ancak bazı pinlerin özel fonksiyonları bulunur:</p>
                        
                        <h4>Dikkat Edilmesi Gereken Pinler:</h4>
                        <ul>
                            <li><strong>GPIO0 (D3):</strong> Boot modunda kullanılır. Başlangıçta LOW olması programlama modunu açar.</li>
                            <li><strong>GPIO2 (D4):</strong> Dahili LED'e bağlıdır. Boot sırasında HIGH olmalıdır.</li>
                            <li><strong>GPIO15 (D8):</strong> Boot sırasında LOW olmalıdır.</li>
                        </ul>
                        
                        <p>Pin bilgilerini görmek için <span class="link-button" onclick="closePinInfoDialog(); openPinInfoDialog()">buraya tıklayın</span>.</p>
                    </div>
                    <div class="tab-content" id="wifiSettings">
                        <h3>WiFi Ayarları</h3>
                        <p>ESP IoT Dashboard iki WiFi modu destekler:</p>
                        
                        <h4>AP Modu (Access Point)</h4>
                        <p>Cihaz kendi WiFi ağını oluşturur. Varsayılan olarak:</p>
                        <ul>
                            <li><strong>SSID:</strong> ESP_Dashboard</li>
                            <li><strong>Şifre:</strong> 12345678</li>
                        </ul>
                        
                        <h4>STA Modu (Station)</h4>
                        <p>Cihaz, mevcut bir WiFi ağına bağlanır. Bağlantı ayarlarını "Ayarlar" sayfasından yapılandırabilirsiniz.</p>
                        
                        <div class="note">
                            <p><strong>Not:</strong> AP modu her zaman aktiftir, bu sayede cihaza her zaman erişebilirsiniz.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
      <div class="container">
        <div class="d-flex justify-content-between align-items-center">
          <p>&copy; 2023 ESP IoT Dashboard</p>
          <div class="footer-links">
            <a href="#" onclick="openPinInfoDialog(); return false;"
              >Pin Bilgileri</a
            >
            <a href="#" onclick="openHelpDialog(); return false;">Yardım</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/app.js" type="module"></script>
  </body>
</html>
